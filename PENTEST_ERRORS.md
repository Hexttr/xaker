# Анализ ошибок пентеста

## Проблемы, обнаруженные при запуске реального пентеста

### 1. ❌ API Error 403: "Request not allowed"
**Проблема**: Anthropic API возвращает ошибку 403 - "Request not allowed" · Please run /login

**Возможные причины**:
- API ключ неверный или истек
- API ключ не имеет необходимых прав доступа
- Превышен лимит запросов
- API ключ заблокирован

**Решение**:
1. Проверьте API ключ в `backend/.env`
2. Убедитесь, что ключ начинается с `sk-ant-api03-`
3. Проверьте баланс на аккаунте Anthropic
4. Попробуйте создать новый API ключ

### 2. ❌ Git ошибки (требуется WSL)
**Проблема**: Shannon пытается выполнить git команды, которые требуют WSL (Windows Subsystem for Linux)

**Ошибка**: 
```
Git setup warning: exit code: 1
'B>1K CAB@0=8BL MBC ?@>1;5<C, CAB0=>2;5==KE 48AB@81CB82>2.
```

**Решение**:
1. **Вариант 1**: Установить WSL
   ```powershell
   wsl --install
   ```

2. **Вариант 2**: Настроить Git для работы на Windows
   - Убедитесь, что Git установлен: `git --version`
   - Инициализируйте репозиторий вручную (уже сделано)

### 3. ⚠️ Отсутствуют инструменты пентестинга
**Проблема**: Не установлены необходимые инструменты:
- `nmap` - сканирование портов
- `subfinder` - поиск поддоменов
- `whatweb` - анализ веб-технологий
- `schemathesis` - тестирование API

**Влияние**: Функциональность ограничена, но пентест может продолжиться

**Решение** (опционально):
- Установить через WSL или использовать альтернативы

### 4. ❌ Валидация не прошла
**Проблема**: "Missing required deliverable files" - файлы не были созданы из-за ошибок API

**Причина**: Из-за ошибки 403 API, агент не смог создать необходимые файлы

## Рекомендации

### Немедленные действия:
1. ✅ Проверьте API ключ Anthropic
2. ✅ Убедитесь, что Git репозиторий инициализирован (уже исправлено)
3. ⚠️ Установите WSL для полной функциональности Git команд

### Для следующего запуска:
1. Проверьте, что API ключ валиден
2. Убедитесь, что репозиторий `temp-repo` правильно инициализирован
3. Рассмотрите установку WSL для лучшей совместимости

## Статус исправлений

- ✅ Временный репозиторий создается автоматически
- ✅ Git репозиторий инициализирован вручную
- ❌ API ключ требует проверки
- ⚠️ WSL не установлен (опционально)




