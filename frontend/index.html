<!doctype html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <link rel="apple-touch-icon" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Xaker - AI Penetration Tester</title>
  </head>
  <body>
    <div id="root"></div>
    <script>
      // АГРЕССИВНАЯ очистка всех Service Workers - выполняется СРАЗУ
      (function() {
        if ('serviceWorker' in navigator) {
          // Удаляем все регистрации
          navigator.serviceWorker.getRegistrations().then(function(registrations) {
            console.log('Найдено Service Workers:', registrations.length);
            registrations.forEach(function(registration) {
              registration.unregister().then(function(success) {
                console.log('Service Worker удален:', success);
              }).catch(function(error) {
                console.error('Ошибка удаления Service Worker:', error);
              });
            });
          });
          
          // Очищаем все кэши
          if ('caches' in window) {
            caches.keys().then(function(names) {
              console.log('Найдено кэшей:', names.length);
              names.forEach(function(name) {
                caches.delete(name).then(function(success) {
                  console.log('Кэш удален:', name, success);
                });
              });
            });
          }
          
          // Блокируем регистрацию новых Service Workers
          navigator.serviceWorker.addEventListener('controllerchange', function() {
            navigator.serviceWorker.getRegistrations().then(function(registrations) {
              registrations.forEach(function(registration) {
                registration.unregister();
              });
            });
          });
        }
      })();
    </script>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>








